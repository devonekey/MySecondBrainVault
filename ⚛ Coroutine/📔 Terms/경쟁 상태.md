---
aliases:
  - Race Condition
  - Race Conditions
  - ë ˆì´ìŠ¤ ì»¨ë””ì…˜
  - ê²½í•© ì¡°ê±´
importance: Medium
originated from:
  - "[[ğŸ“˜ ì½”í‹€ë¦° ì½”ë£¨í‹´ì˜ ì •ì„/11ì¥ - ì½”ë£¨í‹´ ì‹¬í™”]]"
  - "[[ğŸ“˜ ì½”í‹€ë¦° ë™ì‹œì„± í”„ë¡œê·¸ë˜ë°/1ì¥ - Hello, Concurrent World!]]"
answered by:
  - OpenAI
  - "[[ğŸ“˜ ì½”í‹€ë¦° ë™ì‹œì„± í”„ë¡œê·¸ë˜ë°/1ì¥ - Hello, Concurrent World!]]"
tags:
  - Coroutine
  - ì½”ë£¨í‹´
  - Terms
  - ì£¼ìš”_ê°œë…
learned:
---
##### â„¹ï¸ Description
---
- [ìŠ¤ë ˆë“œ](ìŠ¤ë ˆë“œ.md) ë˜ëŠ” [ì½”ë£¨í‹´](ì½”ë£¨í‹´.md) ê°™ì€ ì—¬ëŸ¬ ì‹¤í–‰ íë¦„ì´ ë™ì‹œì— ê°™ì€ ìì›([ê³µìœ  ìƒíƒœ](ê³µìœ %20ìƒíƒœ.md))ì— ì ‘ê·¼í•˜ê±°ë‚˜ ìˆ˜ì •í•  ë•Œ, ì‹¤í–‰ ìˆœì„œì— ë”°ë¼ ê²°ê³¼ê°€ ì˜ˆìƒê³¼ ë‹¬ë¼ì§ìœ¼ë¡œì¨ ë°œìƒí•˜ëŠ” ë¬¸ì œ

##### ğŸ”¥ How does it occur?
---
```Kotlin
fun main() = runBlocking {
    var count = 0
    val jobs = List(1_000) {
        launch(Dispatchers.Default) {
            repeat(1_000) {
                count++
            }
        }
	}
	
	jobs.joinAll()
	
	println("count: $count")
}
```
- [ë™ê¸°í™”](ë°ì´í„°%20ë™ê¸°í™”.md)ì—†ì´ [ê°€ë³€ ë³€ìˆ˜](ê°€ë³€%20ë³€ìˆ˜.md)ë¥¼ ë™ì‹œì— ìˆ˜ì •í•˜ë©´ ë°œìƒ
- [ë™ì‹œì„±](ë™ì‹œì„±.md) ì½”ë“œê°€ í•­ìƒ íŠ¹ì •í•œ ìˆœì„œë¡œ ì‹¤í–‰ë  ê²ƒì´ë¼ ê°€ì •í•˜ê³  ì˜¤í•´í•  ë•Œ ë°œìƒ

##### ğŸ§¯ How to handle?
---
- ê²½ìŸ ìƒíƒœ ë¬¸ì œëŠ” í•˜ë‚˜ì˜ ê°€ë³€ ë³€ìˆ˜ì— ìŠ¤ë ˆë“œê°€ ë™ì‹œì— ì ‘ê·¼í•  ìˆ˜ ì—†ë„ë¡ ë§Œë“¤ì–´ í•´ê²°
  â‹ ì •ë³´ì— ì ‘ê·¼í•˜ë ¤ê³  í•˜ê¸° ì „ì— ì •ë³´ë¥¼ ì–»ì„ ë•Œê¹Œì§€ ëª…ì‹œì ìœ¼ë¡œ ê¸°ë‹¤ë¦¼ìœ¼ë¡œì¨ í•´ê²°
- [Mutex](Mutex.md) ì‚¬ìš©
```Kotlin
fun main() = runBlocking {
    var count = 0
    val mutex = Mutex()
    val jobs = List(1_000) {
        launch(context = Dispatchers.Default) {
            repeat(1_000) {
                mutex.withLock {
                    count++
                }
            }
		}
	}
	
    jobs.joinAll()
    
    println("count: $count")
}
```
- ì›ìì  ìë£Œ êµ¬ì¡° ì‚¬ìš©
```Kotlin
fun main() = runBlocking {
    val count = AtomicInteger(0)
    val jobs = List(1_000) {
        launch(context = Dispatchers.Default) {
            repeat(1_000) {
                count.incrementAndGet()
            }
        }
	}
    
    jobs.joinAll()
    
    println("count: $count")
}
```
- [ë‹¨ì¼ ìŠ¤ë ˆë“œ ë””ìŠ¤íŒ¨ì²˜](ë‹¨ì¼%20ìŠ¤ë ˆë“œ%20ë””ìŠ¤íŒ¨ì²˜.md) ì‚¬ìš©
```Kotlin
fun main() = runBlocking {
    var count = 0
    val singleThreadDispatcher = Dispatchers.Default.limitedParallelism(1)
    val jobs = List(1_000) {
        launch(context = singleThreadDispatcher) {
            repeat(1_000) {
                count++
            }
        }
	}
    
    jobs.joinAll()
	
    println("count: $count")
}
```
